
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>The Bouquet</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/matter-js/0.19.0/matter.min.js"></script>
    <style>
        body { 
            margin: 0; height: 100vh; background: #0a0a0a; 
            font-family: 'Helvetica Neue', sans-serif; overflow: hidden; 
            display: flex; flex-direction: column; align-items: center;
        }

        #canvas-container {
            position: absolute; top: 0; left: 0; width: 100%; height: 70vh;
            display: flex; justify-content: center; z-index: 5;
        }

        /* Visual Vase */
        .vase-glass {
            position: absolute; bottom: 20px; width: 180px; height: 260px;
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-top: none;
            border-radius: 0 0 50px 50px;
            z-index: 10; pointer-events: none;
        }

        .controls {
            position: fixed; bottom: 0; height: 30vh; width: 100%;
            background: #111; display: flex; flex-direction: column;
            align-items: center; justify-content: center; gap: 20px;
            z-index: 20; border-top: 1px solid #222;
        }

        .flower-options { display: flex; gap: 15px; }

        .f-btn {
            font-size: 28px; cursor: pointer; background: #1a1a1a;
            border: 1px solid #333; padding: 10px; border-radius: 12px;
            transition: 0.2s;
        }
        .f-btn:hover { border-color: #fbbf24; transform: translateY(-3px); }

        .next-btn {
            padding: 15px 45px; background: #fbbf24; color: #000;
            border: none; letter-spacing: 4px; text-transform: uppercase;
            font-size: 0.75rem; cursor: pointer; font-weight: bold;
        }
    </style>
</head>
<body>

    <div id="canvas-container">
        <div class="vase-glass"></div>
    </div>

    <div class="controls">
        <div class="flower-options">
            <div class="f-btn" onclick="dropFlower('ðŸŒ»')">ðŸŒ»</div>
            <div class="f-btn" onclick="dropFlower('ðŸŒ·')">ðŸŒ·</div>
            <div class="f-btn" onclick="dropFlower('ðŸŒ¸')">ðŸŒ¸</div>
            <div class="f-btn" onclick="dropFlower('ðŸŒ¹')">ðŸŒ¹</div>
            <div class="f-btn" onclick="dropFlower('ðŸŒ¿')">ðŸŒ¿</div>
        </div>
        <button class="next-btn" onclick="window.location.href='ask.html'">I'm Ready</button>
    </div>

    <audio id="bg-music" loop><source src="yellow.mp3" type="audio/mpeg"></audio>

    <script>
        const { Engine, Render, Runner, Bodies, Composite } = Matter;
        const engine = Engine.create();
        const container = document.getElementById('canvas-container');

        const render = Render.create({
            element: container,
            engine: engine,
            options: {
                width: window.innerWidth,
                height: window.innerHeight * 0.7,
                wireframes: false,
                background: 'transparent'
            }
        });

        // PHYSICS BOUNDARIES
        const centerX = window.innerWidth / 2;
        const floorY = (window.innerHeight * 0.7) - 25;

        // Thick floor (60px) to prevent flowers from falling through
        const ground = Bodies.rectangle(centerX, floorY + 30, 180, 60, { 
            isStatic: true, 
            friction: 1, // High friction so they don't slide around like ice
            render: { visible: false } 
        });

        const leftWall = Bodies.rectangle(centerX - 95, floorY - 130, 20, 300, { 
            isStatic: true, angle: -0.05, friction: 1, render: { visible: false } 
        });

        const rightWall = Bodies.rectangle(centerX + 95, floorY - 130, 20, 300, { 
            isStatic: true, angle: 0.05, friction: 1, render: { visible: false } 
        });

        Composite.add(engine.world, [ground, leftWall, rightWall]);

        function dropFlower(emoji) {
            // Circle physics body
            const flower = Bodies.circle(centerX + (Math.random() * 20 - 10), 0, 22, {
                restitution: 0.3, // Low bounce for realistic settling
                friction: 0.8,    // High friction to help stacking
                density: 0.01,
                render: {
                    sprite: { texture: createEmojiCanvas(emoji) }
                }
            });
            Composite.add(engine.world, flower);
        }

        function createEmojiCanvas(emoji) {
            const c = document.createElement('canvas');
            c.width = 64; c.height = 64;
            const ctx = c.getContext('2d');
            ctx.font = '42px serif';
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';
            ctx.fillText(emoji, 32, 32);
            return
